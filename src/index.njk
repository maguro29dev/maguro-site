---
layout: base.njk
title: まぐにぃゲーム実況本館の情報ハブ
header_title: まぐにぃゲーム実況本館の情報ハブ
header_subtitle: "@ゲームまぐにぃ / 🐟️まぐにぃの活動＆メンバーシップ総合ハブ🐟️"
permalink: /
pageStyles: |
    <style>
        .info-title { color: #6a994e; border-bottom: 2px solid #6a994e; padding-bottom: 0.5rem; display: flex; align-items: center; }
        .live-now-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: .5; } }

        /* ▼▼▼ スケジュール用の新しいスタイル ▼▼▼ */
        .schedule-card {
            position: relative; /* キャラクター画像を配置するための基準点 */
            border: 3px solid #6a994e;
            background-image: url("https://i.imgur.com/ew3XjDq.png"); /* ご提供いただいた背景画像 */
            background-size: cover; /* 画像がカード全体を覆うように調整 */
            background-position: center; /* 画像の中央が表示されるように調整 */
        }
        .schedule-character {
            position: absolute;
            top: 50px;      /* 位置を調整 (上からの距離) */
            left: 5px;      /* 位置を調整 (左からの距離) */
            width: 160px;   /* サイズを調整 */
            height: auto;
            z-index: 1;
            pointer-events: none; /* 画像がクリック操作の邪魔にならないように */
        }
        .schedule-main-title {
            font-family: 'Noto Sans JP', sans-serif;
            font-weight: 900; /* 最も太いウェイト */
            color: #38a169; /* 緑色 */
            -webkit-text-stroke: 2px white; /* 白い縁取り */
            paint-order: stroke fill; /* 縁取りを文字の背面に描画 */
            text-shadow: 3px 3px 5px rgba(0,0,0,0.2); /* ソフトなドロップシャドウ */
        }
        .schedule-col-title {
            font-weight: 700;
            color: #2f855a;
            background-color: rgba(255, 255, 255, 0.8); /* 背景を少し濃くして可読性を上げる */
            padding: 0.5rem 1rem;
            border-radius: 9999px; /* 丸い形 */
            display: inline-block;
            border: 2px solid #6a994e;
        }
        .schedule-item {
            background-color: rgba(255, 255, 255, 0.9); /* 背景画像が少し透けるように */
            border-left: 5px solid #6a994e;
            transition: all 0.2s ease-in-out;
        }
        .schedule-item:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            background-color: #ffffff; /* ホバー時は不透明に */
        }
        .schedule-item-date {
            font-weight: 700;
            color: #c53030; /* 赤系の色 */
        }
        .schedule-item-day {
            font-weight: 900;
            color: #4a5568;
        }
        .schedule-item-text {
            font-weight: 700;
            color: #2d3748;
        }
        
        /* ▼▼▼ メンバーシップ特典用のスタイル ▼▼▼ */
        .membership-tier-title {
            font-weight: 700;
            color: #2f855a;
            background-color: rgba(255, 255, 255, 0.8);
            padding: 0.5rem 1rem;
            border-radius: 0.5rem; /* 少し角丸に */
            display: inline-block;
            border: 2px solid #6a994e;
        }
        .membership-item {
            display: block;
            background-color: rgba(255, 255, 255, 0.9);
            padding: 0.75rem;
            border-radius: 0.5rem;
            border-left: 5px solid #6a994e;
            transition: all 0.2s ease-in-out;
            font-weight: 700;
            color: #2d3748;
            text-align: center;
        }
        .membership-item:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            background-color: #ffffff;
            color: #6a994e;
        }

        /* ▼▼▼ スクリーンショットの文字ズレ補正用（撮影時のみ適用） ▼▼▼ */

        /* Contentfulから読み込むコンテンツの補正値 */
        #schedule-capture-area.screenshot-mode .schedule-item-text,
        #schedule-capture-area.screenshot-mode .schedule-item-date,
        #schedule-capture-area.screenshot-mode .schedule-item-day {
            position: relative;
            top: -5px; /* この数値で微調整済み */
        }

        /* タイトルと見出しの「文字だけ」を動かす補正値 */
        /* こちらの数値を調整して、ピッタリの位置を探してください */
        #schedule-capture-area.screenshot-mode .schedule-main-title > span,
        #schedule-capture-area.screenshot-mode .schedule-col-title > span {
            position: relative;
            display: inline-block;
            top: -8px; /* 例: -6px, -8px など */
        }
    </style>
---

<div class="max-w-7xl mx-auto p-4 sm:p-6 lg:p-8">

    {# --- ライブ状況＆カウントダウンパネル (全自動) --- #}
    <section id="live-status-panel" class="mb-8">
        {# ライブ配信中の場合 #}
        {% if youtube.liveVideo %}
            <a href="https://www.youtube.com/watch?v={{ youtube.liveVideo.id.videoId }}" target="_blank" rel="noopener noreferrer" class="block bg-red-600 text-white p-4 rounded-lg shadow-lg hover:bg-red-700 transition-colors duration-300">
                <div class="flex items-center justify-center space-x-4">
                    <div class="relative flex h-5 w-5">
                        <span class="live-now-pulse absolute inline-flex h-full w-full rounded-full bg-white opacity-75"></span>
                        <span class="relative inline-flex rounded-full h-5 w-5 bg-white"></span>
                    </div>
                    <p class="text-lg font-bold">🔴 ライブ配信中！「{{ youtube.liveVideo.snippet.title }}」</p>
                </div>
            </a>
        {# ライブ配信中でなく、次の配信予定がある場合 #}
        {% elif youtube.upcomingVideos.length > 0 %}
            {% set nextVideo = youtube.upcomingVideos[0] %}
            <div class="bg-white p-6 rounded-lg shadow text-center">
                <h2 class="text-lg font-bold text-gray-800 mb-2">
                    <span class="text-custom-green">次回の配信</span>まで、あと…
                </h2>
                <div id="countdown-timer" class="text-4xl md:text-5xl font-black text-gray-900 tracking-tight" style="font-family: 'Roboto', sans-serif;" data-target-time="{{ nextVideo.liveStreamingDetails.scheduledStartTime }}">
                </div>
                <p class="text-xs text-gray-500 mt-2">
                    <a href="https://www.youtube.com/watch?v={{ nextVideo.id }}" target="_blank" rel="noopener noreferrer" class="hover:text-custom-green">
                        {{ nextVideo.snippet.title }}
                    </a>
                </p>
            </div>
        {% endif %}
    </section>

    {# --- スケジュールセクション (新デザイン) --- #}
    <section id="schedule" class="my-10">
        <div id="schedule-capture-area" class="schedule-card max-w-7xl mx-auto rounded-2xl shadow-xl p-5 sm:p-8 overflow-hidden">
            
            {# 左上に表示するキャラクター画像 #}
            <img src="https://i.imgur.com/r5Novxv.png" alt="キャラクター" class="schedule-character">

            <!-- コンテンツをキャラクターの上に表示するためのラッパー -->
            <div style="position: relative; z-index: 2;">
                {# ヘッダー部分 #}
                <div class="text-center mb-8">
                    <h2 class="schedule-main-title text-4xl sm:text-5xl">
                        <span>🗓️ 今後のスケジュール</span>
                    </h2>
                </div>

                {# PCでは3カラム、スマホでは1カラムになるグリッドレイアウト #}
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    
                    {# カラム1: 自動更新エリア #}
                    <div class="text-center">
                        <h3 class="schedule-col-title mb-6">
                            <span><span class="text-xl mr-2">🔴</span>配信予定</span>
                        </h3>
                        <div class="space-y-3 text-left">
                            {% if youtube.upcomingVideos.length > 0 %}
                                {% for video in youtube.upcomingVideos %}
                                    <a href="https://www.youtube.com/watch?v={{ video.id }}" target="_blank" rel="noopener noreferrer" class="schedule-item flex items-center p-3 rounded-lg">
                                        <div class="w-28 flex-shrink-0 text-center pr-3 border-r border-gray-200">
                                            <div class="schedule-item-date text-sm">{{ video.liveStreamingDetails.scheduledStartTime | youtubeDate }}</div>
                                        </div>
                                        <div class="flex-grow pl-4 schedule-item-text text-sm">
                                            {{ video.snippet.title }}
                                        </div>
                                    </a>
                                {% endfor %}
                            {% else %}
                                <p class="text-gray-500 text-sm p-4 text-center">現在予定されている配信はありません。</p>
                            {% endif %}
                        </div>
                    </div>

                    {# カラム2: Contentful管理エリア：リアイベ情報 #}
                    <div class="text-center">
                        <h3 class="schedule-col-title mb-6">
                            <span><span class="text-xl mr-2">🎟️</span>リアイベ情報</span>
                        </h3>
                        <div class="space-y-3 text-left">
                            {% if siteContent.realEvents.length > 0 %}
                                {% for event in siteContent.realEvents %}
                                     <a href="{{ event.fields.url }}" target="_blank" rel="noopener noreferrer" class="schedule-item flex items-center p-3 rounded-lg">
                                         <div class="w-28 flex-shrink-0 text-center pr-3 border-r border-gray-200">
                                             <div class="schedule-item-date text-sm">{{ event.fields.date }}</div>
                                         </div>
                                         <div class="flex-grow pl-4 schedule-item-text text-sm">
                                             {{ event.fields.title }}
                                         </div>
                                     </a>
                                {% endfor %}
                            {% else %}
                                 <p class="text-gray-500 text-sm p-4 text-center">現在予定されているイベントはありません。</p>
                            {% endif %}
                        </div>
                    </div>

                    {# カラム3: Contentful管理エリア：週のスケジュール #}
                    <div class="text-center">
                        <h3 class="schedule-col-title mb-6">
                            <span><span class="text-xl mr-2">📅</span>今週のスケジュール</span>
                        </h3>
                        <div class="space-y-3 text-left">
                            {% if siteContent.weeklySchedule.length > 0 %}
                                {% for day in siteContent.weeklySchedule %}
                                    <div class="schedule-item flex items-center p-3 rounded-lg">
                                        <div class="w-28 flex-shrink-0 text-center pr-3 border-r border-gray-200">
                                            <div class="schedule-item-day text-sm">{{ day.fields.day }}</div>
                                        </div>
                                        <div class="flex-grow pl-4 schedule-item-text text-sm">
                                            {{ day.fields.time }} {{ day.fields.plan }}
                                        </div>
                                    </div>
                                {% endfor %}
                            {% else %}
                                <p class="text-gray-500 text-sm p-4 text-center">今週のスケジュールは準備中です。</p>
                            {% endif %}
                        </div>
                    </div>
                </div>
                <p class="text-sm font-bold text-red-600 mt-8 text-left border-t border-gray-200 pt-4">※時間や内容はX(旧Twitter)でお知らせします！</p>
            </div>
        </div>
    </section>

    <div class="text-center mb-8">
        <button id="capture-schedule-btn" class="bg-custom-green text-white font-bold py-2 px-6 rounded-full hover:bg-green-700 transition-colors duration-300 shadow-md">
            <span class="mr-2">📷</span>スケジュールを画像で保存
        </button>
    </div>


    {# --- メンバーシップ特典セクション --- #}
    <section id="membership" class="my-10">
        <div class="schedule-card max-w-7xl mx-auto rounded-2xl shadow-xl p-5 sm:p-8 overflow-hidden">
            <div style="position: relative; z-index: 2;">
                <div class="text-center mb-8">
                    <h2 class="schedule-main-title text-4xl sm:text-5xl">
                        ✨ メンバーシップ特典
                    </h2>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    
                    <!-- カラム1: 全プラン共通 -->
                    <div class="text-center">
                        <h3 class="membership-tier-title mb-6">【全プラン共通】</h3>
                        <div class="space-y-3 text-left">
                            <a href="https://www.youtube.com/playlist?list=UUMOMP7QuS4suoONg47Nbi-wrg" target="_blank" rel="noopener noreferrer" class="membership-item">全ての限定コンテンツ</a>
                            <a href="https://youtube.com/playlist?list=PL5rEiNRr-t0kn19gXXeU2156gs-87PnBj&si=TpspUI69In24kqyh" target="_blank" rel="noopener noreferrer" class="membership-item">主な配信アーカイブ：まぐ会議</a>
                            <a href="https://youtube.com/playlist?list=PL5rEiNRr-t0kfXHOm-a9C7ksN7A6FQtvN&si=wEtr_EsuotcFKj-E" target="_blank" rel="noopener noreferrer" class="membership-item">主な配信アーカイブ：まぐラジ</a>
                            <a href="https://youtube.com/playlist?list=PL5rEiNRr-t0n0vpX_d1HtvOKJeI1zV8J7&si=4aV4x1vzq40ih-1p" target="_blank" rel="noopener noreferrer" class="membership-item">主な配信アーカイブ：まぐ家呑み</a>
                            <a href="https://youtube.com/playlist?list=PL5rEiNRr-t0n342JXlwEIJGJpwAvNnEH0&si=W1mbh76kPsFKb7K8" target="_blank" rel="noopener noreferrer" class="membership-item">主な配信アーカイブ：ドラクエ3</a>
                            <a href="https://discord.gg/YabfK2buHm" class="membership-item">Discordコミュニティ</a>
                        </div>
                    </div>

                    <!-- カラム2: 中トロ以上 -->
                    <div class="text-center">
                        <h3 class="membership-tier-title mb-6">【中トロ以上】</h3>
                        <div class="space-y-3 text-left">
                            <a href="https://www.youtube.com/playlist?list=PL5rEiNRr-t0kHgOa0AN985MkPrCLg9CXW" target="_blank" rel="noopener noreferrer" class="membership-item">限定ショート動画</a>
                            <a href="https://maguro29info.netlify.app/memberevents/" class="membership-item">オフ会のご案内</a>
                            <a href="https://www.youtube.com/@%E3%82%B2%E3%83%B3%E3%83%BC%E3%83%A0%E3%81%be%E3%81%90%E3%81%AB%E3%81%83/membership" target="_blank" rel="noopener noreferrer" class="membership-item">「まぐ家」投稿チラ見せ</a>
                            <a href="https://docs.google.com/document/d/1aVax0d8e4TWdn173e9HilPREfg9BatMigU34dTgbRHs/edit?usp=sharing" target="_blank" rel="noopener noreferrer" class="membership-item">📜 イベント憲章（必読）</a>
                        </div>
                    </div>

                    <!-- カラム3: 大トロ限定 -->
                    <div class="text-center">
                        <h3 class="membership-tier-title mb-6">【大トロ限定】</h3>
                        <div class="space-y-3 text-left">
                            <a href="https://www.youtube.com/playlist?list=PL5rEiNRr-t0mD91iWjslaCHWAWtYachpz" target="_blank" rel="noopener noreferrer" class="membership-item">プライベート配信</a>
                            <a href="https://www.youtube.com/playlist?list=PL5rEiNRr-t0nZOYWf3i0cHLQ6pW_vdcJd" target="_blank" rel="noopener noreferrer" class="membership-item">動画の無編集版</a>
                            <a href="https://www.youtube.com/@%E3%82%B2%E3%83%B3%E3%83%BC%E3%83%A0%E3%81%be%E3%81%90%E3%81%AB%E3%81%83/membership" target="_blank" rel="noopener noreferrer" class="membership-item">「まぐ家」毎日投稿</a>
                            <a href="https://maguro29info.netlify.app/memberevents/" class="membership-item">オンライン/リアル企画</a>
                            <a href="https://www.youtube.com/post/UgkxuqjCpfvhz2hR_rnvmSmk8l-fF-rVc7A0" target="_blank" rel="noopener noreferrer" class="membership-item">📝 感謝表現ご意向確認</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    {# --- グッズ情報 --- #}
    <section class="my-8">
        <div class="bg-white p-6 rounded-lg shadow">
            <h2 class="text-xl font-bold mb-4 info-title">
                <span class="mr-2">🛍️</span>グッズ情報
            </h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                <a href="https://creator-store.jp/blogs/features/tagged/magunii" target="_blank" rel="noopener noreferrer" class="block group">
                    <img src="https://i.imgur.com/3SOslq3.jpeg" alt="UUUMグッズ" class="w-full h-auto object-contain rounded-lg mb-2 transition-transform duration-300 group-hover:scale-105">
                    <p class="font-bold text-center text-gray-800 group-hover:text-custom-green">UUUMグッズページ</p>
                </a>
                <a href="https://store.line.me/stickershop/product/26475933/ja?from=sticker" target="_blank" rel="noopener noreferrer" class="block group">
                    <img src="https://i.imgur.com/6JYfCBV.jpeg" alt="LINEスタンプ" class="w-full h-auto object-contain rounded-lg mb-2 transition-transform duration-300 group-hover:scale-105">
                    <p class="font-bold text-center text-gray-800 group-hover:text-custom-green">LINEスタンプ</p>
                </a>
            </div>
        </div>
    </section>

    {# --- 歩き方 & ご意見箱 --- #}
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 my-8">
        <section>
            <h2 class="text-xl font-bold mb-4 info-title">
                <span class="mr-2">📖</span>コミュニティの歩き方
            </h2>
            <div class="bg-white p-6 rounded-lg shadow space-y-3 text-gray-600 text-sm h-full">
                <p class="text-xs text-gray-500 mb-2">YouTube、Discord、リアルイベントなど、全ての場所でのお約束です。</p>
                <p><strong class="text-gray-800">1. 思いやりを忘れずに！</strong> 誹謗中傷や、リスペクトのない発言はやめましょう。</p>
                <p><strong class="text-gray-800">2. ネタバレには配慮を！</strong> 「ネタバレ注意！」と一言添えるなどお願いします。</p>
                <p><strong class="text-gray-800">3. 個人情報のやり取りはNG！</strong> 安全のため、ご協力ください。</p>
                <p><strong class="text-gray-800">4. 宣伝や勧誘はご遠慮ください。</strong></p>
                <p><strong class="text-gray-800">5. 困ったときは、そっと教えて！</strong> 僕やモデレーターにご連絡ください。</p>
                <p><strong class="text-gray-800">6. イベントでは、みんなで楽しむ空間作りを！</strong> 無断撮影や迷惑行為は控えましょう。</p>
                <div class="border-t border-gray-200 pt-3 mt-3">
                        <a href="https://docs.google.com/document/d/1aVax0d8e4TWdn173e9HilPREfg9BatMigU34dTgbRHs/edit?usp=sharing" target="_blank" rel="noopener noreferrer" class="font-bold text-custom-green hover:text-custom-green-dark">📜 イベント憲章も必ずご確認ください</a>
                </div>
            </div>
        </section>
        <section>
                <h2 class="text-xl font-bold mb-4 info-title">
                <span class="mr-2">📬</span>ご意見箱 (匿名フィードバック)
            </h2>
            <div class="bg-white p-6 rounded-lg shadow h-full">
                <p class="text-gray-600 mb-4 text-sm">この活動ハブや、僕の活動全般について、何か改善点や、やってほしい企画など、皆さんのご意見をぜひお聞かせください。もちろん、匿名で送信できますので、お気軽にどうぞ！</p>
                <a href="https://docs.google.com/forms/d/e/1FAIpQLSd07jq1QJVpjXTNwebNOhCfSfOzQtInPFdYl3VEdsMnc6O-Ng/viewform?usp=dialog" target="_blank" rel="noopener noreferrer" class="inline-block bg-gray-200 text-gray-800 font-bold py-2 px-6 rounded-full hover:bg-gray-300 transition-colors duration-300 text-sm">
                    匿名の意見・感想を送る
                </a>
            </div>
        </section>
    </div>
</div>

{# カウントダウンタイマー用のクライアント側スクリプト #}
<script>
document.addEventListener('DOMContentLoaded', () => {
    const countdownElement = document.getElementById('countdown-timer');
    if (countdownElement) {
        const targetDate = new Date(countdownElement.dataset.targetTime).getTime();
        const interval = setInterval(() => {
            const now = new Date().getTime();
            const distance = targetDate - now;

            if (distance < 0) {
                clearInterval(interval);
                // カウントダウン終了後、ページをリロードしてライブ中の表示に切り替える
                countdownElement.innerHTML = "まもなく開始します！";
                setTimeout(() => window.location.reload(), 5000);
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            let timerHtml = '';
            if (days > 0) {
                timerHtml += `<span>${String(days).padStart(2, '0')}</span><span class="text-2xl md:text-3xl mx-1">日</span>`;
            }
            timerHtml += `
                <span>${String(hours).padStart(2, '0')}</span><span class="text-2xl md:text-3xl mx-1">時間</span>
                <span>${String(minutes).padStart(2, '0')}</span><span class="text-2xl md:text-3xl mx-1">分</span>
                <span>${String(seconds).padStart(2, '0')}</span><span class="text-2xl md:text-3xl mx-1">秒</span>
            `;
            countdownElement.innerHTML = timerHtml;
        }, 1000);
    }
});
</script>
