---
layout: base.njk
title: まぐにぃゲーム実況本館の情報ハブ
header_title: まぐにぃゲーム実況本館の情報ハブ
header_subtitle: "@ゲームまぐにぃ / 🐟️まぐにぃの活動＆メンバーシップ総合ハブ🐟️"
permalink: /
pageStyles: |
    <style>
        .info-title { color: #6a994e; border-bottom: 2px solid #6a994e; padding-bottom: 0.5rem; display: flex; align-items: center; }
        .schedule-item { position: relative; padding-left: 1.25rem; }
        .schedule-item::before { content: '▶'; position: absolute; left: 0; top: 0; color: #6a994e; }
        .live-now-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: .5; } }
    </style>
---

<div class="max-w-7xl mx-auto p-4 sm:p-6 lg:p-8">

    {# --- ライブ状況＆カウントダウンパネル (全自動) --- #}
    <section id="live-status-panel" class="mb-8">
        {# ライブ配信中の場合 #}
        {% if youtube.liveVideo %}
            <a href="https://www.youtube.com/watch?v={{ youtube.liveVideo.id.videoId }}" target="_blank" rel="noopener noreferrer" class="block bg-red-600 text-white p-4 rounded-lg shadow-lg hover:bg-red-700 transition-colors duration-300">
                <div class="flex items-center justify-center space-x-4">
                    <div class="relative flex h-5 w-5">
                        <span class="live-now-pulse absolute inline-flex h-full w-full rounded-full bg-white opacity-75"></span>
                        <span class="relative inline-flex rounded-full h-5 w-5 bg-white"></span>
                    </div>
                    <p class="text-lg font-bold">🔴 ライブ配信中！「{{ youtube.liveVideo.snippet.title }}」</p>
                </div>
            </a>
        {# ライブ配信中でなく、次の配信予定がある場合 #}
        {% elif youtube.upcomingVideos.length > 0 %}
            {% set nextVideo = youtube.upcomingVideos[0] %}
            <div class="bg-white p-6 rounded-lg shadow text-center">
                <h2 class="text-lg font-bold text-gray-800 mb-2">
                    <span class="text-custom-green">次回の配信</span>まで、あと…
                </h2>
                <div id="countdown-timer" class="text-4xl md:text-5xl font-black text-gray-900 tracking-tight" style="font-family: 'Roboto', sans-serif;" data-target-time="{{ nextVideo.liveStreamingDetails.scheduledStartTime }}">
                </div>
                <p class="text-xs text-gray-500 mt-2">
                    <a href="https://www.youtube.com/watch?v={{ nextVideo.id }}" target="_blank" rel="noopener noreferrer" class="hover:text-custom-green">
                        {{ nextVideo.snippet.title }}
                    </a>
                </p>
            </div>
        {% endif %}
    </section>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        {# --- スケジュールセクション (ハイブリッド) --- #}
        <section>
            <h2 class="text-xl font-bold mb-4 info-title">
                <span class="mr-2">🗓️</span>今後のスケジュール
            </h2>
            <div class="bg-white p-6 rounded-lg shadow space-y-6">
                {# 自動更新エリア #}
                <div>
                    <h3 class="font-bold text-gray-800 mb-3 text-sm border-b pb-2">配信予定 (自動更新)</h3>
                    <div class="space-y-2 pt-2">
                        {% if youtube.upcomingVideos.length > 0 %}
                            {% for video in youtube.upcomingVideos %}
                                <div class="schedule-item text-sm">
                                    <a href="https://www.youtube.com/watch?v={{ video.id }}" target="_blank" rel="noopener noreferrer" class="text-gray-600 hover:text-custom-green">
                                        <strong class="font-bold">{{ video.liveStreamingDetails.scheduledStartTime | youtubeDate }}</strong> - {{ video.snippet.title }}
                                    </a>
                                </div>
                            {% endfor %}
                        {% else %}
                            <p class="text-gray-500 text-sm pl-3">現在予定されている配信はありません。</p>
                        {% endif %}
                    </div>
                </div>

                {# Contentful管理エリア：リアイベ情報 #}
                {% if siteContent.realEvents.length > 0 %}
                <div>
                    <h3 class="font-bold text-gray-800 mb-3 text-sm border-b pb-2">リアイベ情報</h3>
                    <div class="space-y-2 pt-2">
                        {% for event in siteContent.realEvents %}
                            <div class="schedule-item text-sm">
                                <a href="{{ event.fields.url }}" target="_blank" rel="noopener noreferrer" class="text-gray-600 hover:text-custom-green">
                                    <strong class="font-bold">{{ event.fields.date }}</strong> - {{ event.fields.title }}
                                </a>
                            </div>
                        {% endfor %}
                    </div>
                </div>
                {% endif %}

                {# Contentful管理エリア：週のスケジュール #}
                {% if siteContent.weeklySchedule.length > 0 %}
                <div>
                    <h3 class="font-bold text-gray-800 mb-3 text-sm border-b pb-2">今週の生配信スケジュール</h3>
                    <div class="space-y-1 pt-2">
                        {% for day in siteContent.weeklySchedule %}
                            <div class="schedule-item text-sm">
                                <strong class="font-bold w-20 inline-block">{{ day.fields.day }}:</strong>
                                <span class="text-gray-600">{{ day.fields.time }} {{ day.fields.plan }}</span>
                            </div>
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
            </div>
            <p class="text-xs text-gray-500 mt-2 text-right">※時間や内容はX(旧Twitter)でお知らせします！</p>
        </section>

        {# --- メンバーシップ特典セクション --- #}
        <section>
            <h2 class="text-xl font-bold mb-4 info-title">
                <span class="mr-2">✨</span>メンバーシップ特典
            </h2>
            <div class="bg-white p-6 rounded-lg shadow space-y-4">
                <div>
                    <h3 class="font-bold text-gray-800">【全プラン共通】</h3>
                    <ul class="mt-2 space-y-2 pl-2 text-sm">
                        <li><a href="https://www.youtube.com/playlist?list=UUMOMP7QuS4suoONg47Nbi-wrg" target="_blank" rel="noopener noreferrer" class="text-gray-600 hover:text-custom-green">全ての限定コンテンツ（自動更新）</a></li>
                        <li><a href="https://youtube.com/playlist?list=PL5rEiNRr-t0kn19gXXeU2156gs-87PnBj&si=TpspUI69In24kqyh" target="_blank" rel="noopener noreferrer" class="text-gray-600 hover:text-custom-green">主な配信アーカイブ：まぐ会議</a></li>
                        <li><a href="https://youtube.com/playlist?list=PL5rEiNRr-t0kfXHOm-a9C7ksN7A6FQtvN&si=wEtr_EsuotcFKj-E" target="_blank" rel="noopener noreferrer" class="text-gray-600 hover:text-custom-green">主な配信アーカイブ：まぐラジ</a></li>
                         <li><a href="https://youtube.com/playlist?list=PL5rEiNRr-t0n0vpX_d1HtvOKJeI1zV8J7&si=4aV4x1vzq40ih-1p" target="_blank" rel="noopener noreferrer" class="text-gray-600 hover:text-custom-green">主な配信アーカイブ：まぐ家呑み配信</a></li>
                        <li><a href="https://youtube.com/playlist?list=PL5rEiNRr-t0n342JXlwEIJGJpwAvNnEH0&si=W1mbh76kPsFKb7K8" target="_blank" rel="noopener noreferrer" class="text-gray-600 hover:text-custom-green">主な配信アーカイブ：ドラクエ3</a></li>
                        <li><a href="https://discord.gg/YabfK2buHm" target="_blank" rel="noopener noreferrer" class="text-gray-600 hover:text-custom-green">Discordコミュニティ（プランごとの限定チャンネル有り）</a></li>
                    </ul>
                </div>
                <div class="border-t border-gray-200 pt-4">
                    <h3 class="font-bold text-gray-800">【中トロ以上】</h3>
                    <ul class="mt-2 space-y-2 pl-2 text-sm">
                        <li><a href="https://www.youtube.com/playlist?list=PL5rEiNRr-t0kHgOa0AN985MkPrCLg9CXW" target="_blank" rel="noopener noreferrer" class="text-gray-600 hover:text-custom-green">限定ショート動画（毎週 月・土 更新！）</a></li>
                        <li><a href="https://www.youtube.com/@%E3%82%B2%E3%83%BC%E3%83%A0%E3%81%BE%E3%81%90%E3%81%AB%E3%81%83/membership" target="_blank" rel="noopener noreferrer" class="text-gray-600 hover:text-custom-green">オフ会のご案内（コミュニティ投稿をチェック！）</a></li>
                        <li><a href="https://www.youtube.com/@%E3%82%B2%E3%83%BC%E3%83%A0%E3%81%BE%E3%81%90%E3%81%AB%E3%81%83/membership" target="_blank" rel="noopener noreferrer" class="text-gray-600 hover:text-custom-green">「まぐ家」投稿チラ見せ（コミュニティ投稿をチェック！）</a></li>
                        <li><a href="https://docs.google.com/document/d/1aVax0d8e4TWdn173e9HilPREfg9BatMigU34dTgbRHs/edit?usp=sharing" target="_blank" rel="noopener noreferrer" class="font-bold text-custom-green hover:text-custom-green-dark">📜 イベント憲章（参加前に必読）</a></li>
                    </ul>
                </div>
                 <div class="border-t border-gray-200 pt-4">
                    <h3 class="font-bold text-gray-800">【大トロ限定】</h3>
                    <ul class="mt-2 space-y-2 pl-2 text-sm">
                        <li><a href="https://www.youtube.com/playlist?list=PL5rEiNRr-t0mD91iWjslaCHWAWtYachpz" target="_blank" rel="noopener noreferrer" class="text-gray-600 hover:text-custom-green">プライベート配信</a></li>
                        <li><a href="https://www.youtube.com/playlist?list=PL5rEiNRr-t0nZOYWf3i0cHLQ6pW_vdcJd" target="_blank" rel="noopener noreferrer" class="text-gray-600 hover:text-custom-green">動画の無編集版</a></li>
                        <li><a href="https://www.youtube.com/@%E3%82%B2%E3%83%BC%E3%83%A0%E3%81%BE%E3%81%90%E3%81%AB%E3%81%83/membership" target="_blank" rel="noopener noreferrer" class="text-gray-600 hover:text-custom-green">「まぐ家」毎日投稿（コミュニティ投稿をチェック！）</a></li>
                        <li><a href="https://www.youtube.com/@%E3%82%B2%E3%83%BC%E3%83%A0%E3%81%BE%E3%81%90%E3%81%AB%E3%81%83/membership" target="_blank" rel="noopener noreferrer" class="text-gray-600 hover:text-custom-green">オンラインオフ会＆リアルキャンプ企画（コミュニティ投稿をチェック！）</a></li>
                        <li><a href="https://www.youtube.com/post/UgkxuqjCpfvhz2hR_rnvmSmk8l-fF-rVc7A0" target="_blank" rel="noopener noreferrer" class="font-bold text-custom-green hover:text-custom-green-dark">📝 特別な感謝の表現に関するご意向確認フォーム</a></li>
                    </ul>
                </div>
            </div>
        </section>
    </div>

    <section class="mt-8">
        <div class="bg-white p-6 rounded-lg shadow">
            <h2 class="text-xl font-bold mb-4 info-title">
                <span class="mr-2">🛍️</span>グッズ情報
            </h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                <a href="https://creator-store.jp/blogs/features/tagged/magunii" target="_blank" rel="noopener noreferrer" class="block group">
                    <img src="https://i.imgur.com/3SOslq3.jpeg" alt="UUUMグッズ" class="w-full h-auto object-contain rounded-lg mb-2 transition-transform duration-300 group-hover:scale-105">
                    <p class="font-bold text-center text-gray-800 group-hover:text-custom-green">UUUMグッズページ</p>
                </a>
                <a href="https://store.line.me/stickershop/product/26475933/ja?from=sticker" target="_blank" rel="noopener noreferrer" class="block group">
                    <img src="https://i.imgur.com/6JYfCBV.jpeg" alt="LINEスタンプ" class="w-full h-auto object-contain rounded-lg mb-2 transition-transform duration-300 group-hover:scale-105">
                    <p class="font-bold text-center text-gray-800 group-hover:text-custom-green">LINEスタンプ</p>
                </a>
            </div>
        </div>
    </section>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-8">
        <section>
            <h2 class="text-xl font-bold mb-4 info-title">
                <span class="mr-2">📖</span>コミュニティの歩き方
            </h2>
            <div class="bg-white p-6 rounded-lg shadow space-y-3 text-gray-600 text-sm h-full">
                <p class="text-xs text-gray-500 mb-2">YouTube、Discord、リアルイベントなど、全ての場所でのお約束です。</p>
                <p><strong class="text-gray-800">1. 思いやりを忘れずに！</strong> 誹謗中傷や、リスペクトのない発言はやめましょう。</p>
                <p><strong class="text-gray-800">2. ネタバレには配慮を！</strong> 「ネタバレ注意！」と一言添えるなどお願いします。</p>
                <p><strong class="text-gray-800">3. 個人情報のやり取りはNG！</strong> 安全のため、ご協力ください。</p>
                <p><strong class="text-gray-800">4. 宣伝や勧誘はご遠慮ください。</strong></p>
                <p><strong class="text-gray-800">5. 困ったときは、そっと教えて！</strong> 僕やモデレーターにご連絡ください。</p>
                <p><strong class="text-gray-800">6. イベントでは、みんなで楽しむ空間作りを！</strong> 無断撮影や迷惑行為は控えましょう。</p>
                <div class="border-t border-gray-200 pt-3 mt-3">
                     <a href="https://docs.google.com/document/d/1aVax0d8e4TWdn173e9HilPREfg9BatMigU34dTgbRHs/edit?usp=sharing" target="_blank" rel="noopener noreferrer" class="font-bold text-custom-green hover:text-custom-green-dark">📜 イベント憲章も必ずご確認ください</a>
                </div>
            </div>
        </section>
        <section>
             <h2 class="text-xl font-bold mb-4 info-title">
                <span class="mr-2">📬</span>ご意見箱 (匿名フィードバック)
            </h2>
            <div class="bg-white p-6 rounded-lg shadow h-full">
                <p class="text-gray-600 mb-4 text-sm">この活動ハブや、僕の活動全般について、何か改善点や、やってほしい企画など、皆さんのご意見をぜひお聞かせください。もちろん、匿名で送信できますので、お気軽にどうぞ！</p>
                <a href="https://docs.google.com/forms/d/e/1FAIpQLSd07jq1QJVpjXTNwebNOhCfSfOzQtInPFdYl3VEdsMnc6O-Ng/viewform?usp=dialog" target="_blank" rel="noopener noreferrer" class="inline-block bg-gray-200 text-gray-800 font-bold py-2 px-6 rounded-full hover:bg-gray-300 transition-colors duration-300 text-sm">
                    匿名の意見・感想を送る
                </a>
            </div>
        </section>
    </div>
</div>

{# カウントダウンタイマー用のクライアント側スクリプト #}
<script>
document.addEventListener('DOMContentLoaded', () => {
    const countdownElement = document.getElementById('countdown-timer');
    if (countdownElement) {
        const targetDate = new Date(countdownElement.dataset.targetTime).getTime();
        const interval = setInterval(() => {
            const now = new Date().getTime();
            const distance = targetDate - now;

            if (distance < 0) {
                clearInterval(interval);
                // カウントダウン終了後、ページをリロードしてライブ中の表示に切り替える
                countdownElement.innerHTML = "まもなく開始します！";
                setTimeout(() => window.location.reload(), 5000);
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            let timerHtml = '';
            if (days > 0) {
                timerHtml += `<span>${String(days).padStart(2, '0')}</span><span class="text-2xl md:text-3xl mx-1">日</span>`;
            }
            timerHtml += `
                <span>${String(hours).padStart(2, '0')}</span><span class="text-2xl md:text-3xl mx-1">時間</span>
                <span>${String(minutes).padStart(2, '0')}</span><span class="text-2xl md:text-3xl mx-1">分</span>
                <span>${String(seconds).padStart(2, '0')}</span><span class="text-2xl md:text-3xl mx-1">秒</span>
            `;
            countdownElement.innerHTML = timerHtml;
        }, 1000);
    }
});
</script>